{"ast":null,"code":"import axios from 'axios';\nimport idx from 'idx';\nconst apiKey = \"CWB-27A80F1A-A586-4FDC-BE8A-641BF50848FA\";\nconst apiUrl = 'https://opendata.cwb.gov.tw/api/v1/rest/datastore';\n\nconst getSeaData = () => {\n  axios.get(`${apiUrl}/O-A0018-001`, {\n    params: {\n      Authorization: apiKey,\n      limit: 10,\n      stationId: '46708A',\n      elementName: '浪高'\n    }\n  }).then(res => {\n    console.log(res.data);\n    const status = idx(res, _ => _.status);\n    const success = idx(res, _ => _.data.success);\n    const records = idx(res, _ => _.data.records);\n\n    if (status === 200 && success === 'true') {\n      console.log(JSON.parse(records));\n      return JSON.parse(records);\n    }\n\n    return {};\n  }).catch(e => console.log(e));\n};\n\nexport default {\n  getSeaData\n};","map":{"version":3,"sources":["/Users/gogogohuang/Documents/Project/surfing_forever/utils/network.ts"],"names":["axios","idx","apiKey","apiUrl","getSeaData","get","params","Authorization","limit","stationId","elementName","then","res","console","log","data","status","_","success","records","JSON","parse","catch","e"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AAEA,MAAMC,MAAM,GAAG,0CAAf;AACA,MAAMC,MAAM,GAAG,mDAAf;;AAEA,MAAMC,UAAU,GAAG,MAAM;AACvBJ,EAAAA,KAAK,CAACK,GAAN,CAAW,GAAEF,MAAO,cAApB,EACE;AACEG,IAAAA,MAAM,EAAE;AACNC,MAAAA,aAAa,EAAEL,MADT;AAENM,MAAAA,KAAK,EAAE,EAFD;AAGNC,MAAAA,SAAS,EAAE,QAHL;AAINC,MAAAA,WAAW,EAAE;AAJP;AADV,GADF,EASGC,IATH,CASQC,GAAG,IAAI;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,UAAMC,MAAM,GAAGf,GAAG,CAACW,GAAD,EAAMK,CAAC,IAAIA,CAAC,CAACD,MAAb,CAAlB;AACA,UAAME,OAAO,GAAGjB,GAAG,CAACW,GAAD,EAAMK,CAAC,IAAIA,CAAC,CAACF,IAAF,CAAOG,OAAlB,CAAnB;AACA,UAAMC,OAAO,GAAGlB,GAAG,CAACW,GAAD,EAAMK,CAAC,IAAIA,CAAC,CAACF,IAAF,CAAOI,OAAlB,CAAnB;;AAEA,QAAIH,MAAM,KAAK,GAAX,IAAkBE,OAAO,KAAK,MAAlC,EAA0C;AAExCL,MAAAA,OAAO,CAACC,GAAR,CAAYM,IAAI,CAACC,KAAL,CAAWF,OAAX,CAAZ;AAEA,aAAOC,IAAI,CAACC,KAAL,CAAWF,OAAX,CAAP;AACD;;AAED,WAAO,EAAP;AACD,GAvBH,EAwBGG,KAxBH,CAwBSC,CAAC,IAAIV,OAAO,CAACC,GAAR,CAAYS,CAAZ,CAxBd;AAyBD,CA1BD;;AA4BA,eAAe;AACbnB,EAAAA;AADa,CAAf","sourcesContent":["import axios from 'axios';\nimport idx from 'idx';\n\nconst apiKey = \"CWB-27A80F1A-A586-4FDC-BE8A-641BF50848FA\";\nconst apiUrl = 'https://opendata.cwb.gov.tw/api/v1/rest/datastore';\n\nconst getSeaData = () => {\n  axios.get(`${apiUrl}/O-A0018-001`,\n    {\n      params: {\n        Authorization: apiKey,\n        limit: 10,\n        stationId: '46708A',\n        elementName: '浪高'\n      }\n    })\n    .then(res => {\n      console.log(res.data)\n      const status = idx(res, _ => _.status);\n      const success = idx(res, _ => _.data.success);\n      const records = idx(res, _ => _.data.records);\n\n      if (status === 200 && success === 'true') {  \n\n        console.log(JSON.parse(records));\n\n        return JSON.parse(records);\n      }\n\n      return {};\n    })\n    .catch(e => console.log(e));\n}\n\nexport default {\n  getSeaData,\n}"]},"metadata":{},"sourceType":"module"}