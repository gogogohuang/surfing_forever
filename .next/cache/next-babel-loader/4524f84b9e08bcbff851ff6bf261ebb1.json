{"ast":null,"code":"import axios from 'axios';\nimport idx from 'idx';\nconst apiKey = \"CWB-27A80F1A-A586-4FDC-BE8A-641BF50848FA\";\nconst apiUrl = 'https://opendata.cwb.gov.tw/api/v1/rest/datastore';\n\nconst getSeaData = () => axios.get(`${apiUrl}/O-A0018-001`, {\n  params: {\n    Authorization: apiKey,\n    limit: 10,\n    stationId: '46708A',\n    elementName: '浪高'\n  }\n}).then(res => {\n  const success = idx(res, _ => _.data.success);\n  const records = idx(res, _ => _.data.records);\n\n  if (success === 'true') {\n    return records || {};\n  }\n\n  return {};\n}).catch(e => console.log(e));\n\nexport default {\n  getSeaData\n};","map":{"version":3,"sources":["/Users/gogogohuang/Documents/Project/surfing_forever/utils/network.ts"],"names":["axios","idx","apiKey","apiUrl","getSeaData","get","params","Authorization","limit","stationId","elementName","then","res","success","_","data","records","catch","e","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AAEA,MAAMC,MAAM,GAAG,0CAAf;AACA,MAAMC,MAAM,GAAG,mDAAf;;AAEA,MAAMC,UAAU,GAAG,MACjBJ,KAAK,CAACK,GAAN,CAAW,GAAEF,MAAO,cAApB,EACE;AACEG,EAAAA,MAAM,EAAE;AACNC,IAAAA,aAAa,EAAEL,MADT;AAENM,IAAAA,KAAK,EAAE,EAFD;AAGNC,IAAAA,SAAS,EAAE,QAHL;AAINC,IAAAA,WAAW,EAAE;AAJP;AADV,CADF,EASGC,IATH,CASQC,GAAG,IAAI;AACX,QAAMC,OAAO,GAAGZ,GAAG,CAACW,GAAD,EAAME,CAAC,IAAIA,CAAC,CAACC,IAAF,CAAOF,OAAlB,CAAnB;AACA,QAAMG,OAAO,GAAGf,GAAG,CAACW,GAAD,EAAME,CAAC,IAAIA,CAAC,CAACC,IAAF,CAAOC,OAAlB,CAAnB;;AAEA,MAAIH,OAAO,KAAK,MAAhB,EAAwB;AACtB,WAAOG,OAAO,IAAI,EAAlB;AACD;;AAED,SAAO,EAAP;AACD,CAlBH,EAmBGC,KAnBH,CAmBSC,CAAC,IAAIC,OAAO,CAACC,GAAR,CAAYF,CAAZ,CAnBd,CADF;;AAuBA,eAAe;AACbd,EAAAA;AADa,CAAf","sourcesContent":["import axios from 'axios';\nimport idx from 'idx';\n\nconst apiKey = \"CWB-27A80F1A-A586-4FDC-BE8A-641BF50848FA\";\nconst apiUrl = 'https://opendata.cwb.gov.tw/api/v1/rest/datastore';\n\nconst getSeaData = () => (\n  axios.get(`${apiUrl}/O-A0018-001`,\n    {\n      params: {\n        Authorization: apiKey,\n        limit: 10,\n        stationId: '46708A',\n        elementName: '浪高'\n      }\n    })\n    .then(res => {\n      const success = idx(res, _ => _.data.success);\n      const records = idx(res, _ => _.data.records);\n\n      if (success === 'true') {\n        return records || {};\n      }\n\n      return {};\n    })\n    .catch(e => console.log(e))\n);\n\nexport default {\n  getSeaData,\n}"]},"metadata":{},"sourceType":"module"}